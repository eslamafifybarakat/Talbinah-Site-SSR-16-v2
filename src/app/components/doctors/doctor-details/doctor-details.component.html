<ng-container *ngIf="isLoading;else noLoading">
  <section class="doctor-details pb-5">
    <div class="container">
      <app-skeleton [type]="'doctorsDetails'"></app-skeleton>
    </div>
  </section>
</ng-container>

<ng-template #noLoading>
  <section class="doctor-details">
    <div class="container">
      <div class="row">
        <div class="col-lg-7 col-md-12 mb-5">
          <div class="content-details">
            <div class="d-flex gap-3">
              <div class="doctor-img">
                <img [src]="doctorDetails?.image?.url" alt="doctor" class="w-100 h-100"
                  onerror="this.src='assets/images/not-found/no-woman-doctor.svg'">
              </div>
              <div>
                <h2 class="mb-0">
                  {{doctorDetails?.full_name|| ''}}
                </h2>
                <p class="mb-0 text-grey-color fs-5-1">
                  <ng-container *ngIf="doctorDetails?.specialties[0]?.name">
                    {{doctorDetails?.specialties[0]?.name}}
                  </ng-container>
                </p>
                <div class="d-flex align-items-center gap-1 count-rate rounded-pill mx-auto mt-2 fw-500">
                  <span>
                    <svg width="15" height="15" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M15.9189 12.36C15.6599 12.611 15.5409 12.974 15.5999 13.33L16.4889 18.25C16.5639 18.667 16.3879 19.089 16.0389 19.33C15.6969 19.58 15.2419 19.61 14.8689 19.41L10.4399 17.1C10.2859 17.018 10.1149 16.974 9.93988 16.969H9.66888C9.57488 16.983 9.48288 17.013 9.39888 17.059L4.96888 19.38C4.74988 19.49 4.50188 19.529 4.25888 19.49C3.66688 19.378 3.27188 18.814 3.36888 18.219L4.25888 13.299C4.31788 12.94 4.19888 12.575 3.93988 12.32L0.328876 8.82004C0.0268758 8.52704 -0.0781242 8.08704 0.0598758 7.69004C0.193876 7.29404 0.535876 7.00504 0.948876 6.94004L5.91888 6.21904C6.29688 6.18004 6.62888 5.95004 6.79888 5.61004L8.98888 1.12004C9.04088 1.02004 9.10788 0.928039 9.18888 0.850039L9.27888 0.780039C9.32588 0.728039 9.37988 0.685039 9.43988 0.650039L9.54888 0.610039L9.71888 0.540039H10.1399C10.5159 0.579039 10.8469 0.804039 11.0199 1.14004L13.2389 5.61004C13.3989 5.93704 13.7099 6.16404 14.0689 6.21904L19.0389 6.94004C19.4589 7.00004 19.8099 7.29004 19.9489 7.69004C20.0799 8.09104 19.9669 8.53104 19.6589 8.82004L15.9189 12.36Z"
                        fill="#FEB60D" />
                    </svg>
                  </span>
                  <span>
                    {{doctorDetails.count_rate||0}}
                  </span>
                </div>
              </div>
            </div>
            <div class="mt-4 doctor-bio p-3">
              {{doctorDetails?.profile?.bio }}
            </div>
            <div class="d-flex gap-3 mt-3 flex-wrap">
              <ng-container *ngFor="let interval of priceInterval,let i = index">
                <ng-container *ngIf="priceObject[interval]">
                  <div class="price-container p-2 d-flex align-items-center gap-2">
                    <span>
                      <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_1556_2087)">
                          <path
                            d="M14 28C21.732 28 28 21.732 28 14C28 6.26801 21.732 0 14 0C6.26801 0 0 6.26801 0 14C0 21.732 6.26801 28 14 28Z"
                            fill="#6AA9FF" />
                          <path d="M28 14C28 6.31039 21.6896 0 14 0V28C21.6896 28 28 21.6896 28 14Z" fill="#4895FF" />
                          <path
                            d="M14 26.3594C20.8259 26.3594 26.3594 20.8259 26.3594 14C26.3594 7.17411 20.8259 1.64062 14 1.64062C7.17411 1.64062 1.64062 7.17411 1.64062 14C1.64062 20.8259 7.17411 26.3594 14 26.3594Z"
                            fill="#EDF5FF" />
                          <path
                            d="M26.3594 14C26.3594 7.21481 20.7852 1.64062 14 1.64062V26.3594C20.7852 26.3594 26.3594 20.7852 26.3594 14Z"
                            fill="#D5E8FE" />
                          <path
                            d="M7.03906 21.7812C7.49211 21.7812 7.85937 21.414 7.85937 20.9609C7.85937 20.5079 7.49211 20.1406 7.03906 20.1406C6.58602 20.1406 6.21875 20.5079 6.21875 20.9609C6.21875 21.414 6.58602 21.7812 7.03906 21.7812Z"
                            fill="#47568C" />
                          <path
                            d="M20.9609 7.85937C21.414 7.85937 21.7812 7.49211 21.7812 7.03906C21.7812 6.58602 21.414 6.21875 20.9609 6.21875C20.5079 6.21875 20.1406 6.58602 20.1406 7.03906C20.1406 7.49211 20.5079 7.85937 20.9609 7.85937Z"
                            fill="#29376D" />
                          <path
                            d="M7.03906 7.85937C7.49211 7.85937 7.85937 7.49211 7.85937 7.03906C7.85937 6.58602 7.49211 6.21875 7.03906 6.21875C6.58602 6.21875 6.21875 6.58602 6.21875 7.03906C6.21875 7.49211 6.58602 7.85937 7.03906 7.85937Z"
                            fill="#47568C" />
                          <path
                            d="M20.9609 21.7812C21.414 21.7812 21.7812 21.414 21.7812 20.9609C21.7812 20.5079 21.414 20.1406 20.9609 20.1406C20.5079 20.1406 20.1406 20.5079 20.1406 20.9609C20.1406 21.414 20.5079 21.7812 20.9609 21.7812Z"
                            fill="#29376D" />
                          <path
                            d="M5.79688 14.8203H4.15625C3.70284 14.8203 3.33594 14.4534 3.33594 14C3.33594 13.5466 3.70284 13.1797 4.15625 13.1797H5.79688C6.25029 13.1797 6.61719 13.5466 6.61719 14C6.61719 14.4534 6.25029 14.8203 5.79688 14.8203Z"
                            fill="#47568C" />
                          <path
                            d="M23.8438 14.8203H22.2031C21.7497 14.8203 21.3828 14.4534 21.3828 14C21.3828 13.5466 21.7497 13.1797 22.2031 13.1797H23.8438C24.2972 13.1797 24.6641 13.5466 24.6641 14C24.6641 14.4534 24.2972 14.8203 23.8438 14.8203Z"
                            fill="#29376D" />
                          <path
                            d="M13.1797 4.15625V5.79688C13.1797 6.25029 13.5466 6.61719 14 6.61719V3.33594C13.5466 3.33594 13.1797 3.70284 13.1797 4.15625Z"
                            fill="#47568C" />
                          <path
                            d="M14.8203 5.79688V4.15625C14.8203 3.70284 14.4534 3.33594 14 3.33594V6.61719C14.4534 6.61719 14.8203 6.25029 14.8203 5.79688Z"
                            fill="#FF7B4A" />
                          <path
                            d="M14 21.3828C13.5466 21.3828 13.1797 21.7497 13.1797 22.2031V23.8438C13.1797 24.2972 13.5466 24.6641 14 24.6641C14.4534 24.6641 14.8203 24.2972 14.8203 23.8438V22.2031C14.8203 21.7497 14.4534 21.3828 14 21.3828Z"
                            fill="#47568C" />
                          <path
                            d="M19.5018 18.3419L14.8203 13.6603V9.07812C14.8203 8.62471 14.4534 8.25781 14 8.25781C13.5466 8.25781 13.1797 8.62471 13.1797 9.07812V14C13.1797 14.2179 13.2662 14.4262 13.42 14.58L14 15.16L18.3419 19.5019C18.6623 19.8223 19.1815 19.8223 19.5019 19.5019C19.8223 19.1815 19.8223 18.6623 19.5018 18.3419Z"
                            fill="#47568C" />
                          <path
                            d="M14.8203 5.79688V4.15625C14.8203 3.70284 14.4534 3.33594 14 3.33594V6.61719C14.4534 6.61719 14.8203 6.25029 14.8203 5.79688Z"
                            fill="#29376D" />
                          <path
                            d="M14.8203 23.8438V22.2031C14.8203 21.7497 14.4534 21.3828 14 21.3828V24.6641C14.4534 24.6641 14.8203 24.2972 14.8203 23.8438Z"
                            fill="#29376D" />
                          <path
                            d="M19.5018 19.5018C19.8223 19.1814 19.8223 18.6623 19.5018 18.3419L14.8203 13.6603V9.07812C14.8203 8.62471 14.4534 8.25781 14 8.25781V15.16L18.3419 19.5019C18.6623 19.8223 19.1814 19.8223 19.5018 19.5018Z"
                            fill="#29376D" />
                        </g>
                        <defs>
                          <clipPath id="clip0_1556_2087">
                            <rect width="28" height="28" fill="white" />
                          </clipPath>
                        </defs>
                      </svg>
                    </span>
                    <span class="d-flex align-items-center gap-1">
                      <span class="fs-6 text-gray">
                        <span class="fw-bold text-dark-color">
                          {{interval}}
                          {{'general.minute'| translate}}
                        </span>
                        {{'doctors.session'| translate}}
                      </span>
                      :
                      <span class="text-nowrap">
                        <ng-container *ngIf="currency == 'RSA'; else dollar">
                          <span class="fw-bold fs-5">{{priceObject[interval]?.rsa}}</span>
                          {{'doctors.currencyRsa'| translate}}
                        </ng-container>
                        <ng-template #dollar>
                          <span class="fw-bold fs-5"> {{priceObject[interval]?.usd }}</span>
                          {{'doctorDetails.currencyUsd'| translate}}
                        </ng-template>
                      </span>
                    </span>
                  </div>
                </ng-container>
              </ng-container>
            </div>
            <div class="mt-3 p-3 d-flex align-items-center gap-1 category">
              <span>
                <svg width="21" height="24" viewBox="0 0 21 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M16.2367 15.6953L14.5348 17.3972L13.5137 16.3761" stroke="#7B8292" stroke-width="1.3125"
                    stroke-linecap="round" stroke-linejoin="round" />
                  <path
                    d="M7.875 17.25H5.25C3.80013 17.25 2.625 16.0749 2.625 14.625V6.75C2.625 5.30013 3.80013 4.125 5.25 4.125H15.75C17.1999 4.125 18.375 5.30013 18.375 6.75V10.25"
                    stroke="#7B8292" stroke-width="1.3125" stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M6.125 11.5625H8.75" stroke="#7B8292" stroke-width="1.3125" stroke-linecap="round"
                    stroke-linejoin="round" />
                  <path d="M6.125 7.625H14" stroke="#7B8292" stroke-width="1.3125" stroke-linecap="round"
                    stroke-linejoin="round" />
                  <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M10.7408 17.0866L11.3218 17.847L11.4479 18.7928C11.5179 19.3178 11.9301 19.7308 12.4551 19.8008L13.4035 19.9277L14.1631 20.5087C14.5831 20.8298 15.1667 20.8298 15.5867 20.5087L16.3471 19.9277H16.3462L17.2928 19.8017C17.8178 19.7317 18.2308 19.3196 18.3008 18.7946L18.4278 17.8461C18.4278 17.847 18.7217 17.462 19.0087 17.0866C19.3298 16.6666 19.3298 16.083 19.0087 15.663L18.4278 14.9026L18.3018 13.9567C18.2318 13.4317 17.8197 13.0187 17.2947 12.9487L16.3462 12.8218L15.5867 12.2408C15.1667 11.9197 14.5831 11.9197 14.1631 12.2408L13.4027 12.8218L12.4567 12.9478C11.9317 13.0178 11.5187 13.43 11.4487 13.955L11.3218 14.9035C11.3218 14.9026 11.0278 15.2876 10.7408 15.663C10.4197 16.083 10.4197 16.6657 10.7408 17.0866Z"
                    stroke="#7B8292" stroke-width="1.3125" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
              </span>
              <div class="d-flex gap-2">
                <p class="text-gray mb-0">
                  {{'doctors.sortedFrom'|translate}}
                </p>
                <p class="mb-0">
                  {{'doctors.commission'|translate}}
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-5 col-md-12">
          <div class="book-now">
            <app-available-doctor-appointments [data]="doctorDetails"></app-available-doctor-appointments>
          </div>
        </div>
      </div>
    </div>
    <!--========== Start Reviews ================= -->
    <section id="reviews" class="pt-5">
      <div class="container">
        <ng-container *ngIf="isLoading; else noReviewsLoading">
          <app-skeleton [type]="'home-reviews'"></app-skeleton>
        </ng-container>
        <ng-template #noReviewsLoading>
          <h5 class="fs-1">
            {{'doctors.views'|translate}}
          </h5>
          <div class="row">
            <div class="col-xl-3 col-lg-6 col-md-9">
              <p class="mb-0 text-grey-color">
                {{'home.reviews.description'|translate}}
              </p>
            </div>
          </div>
          <div class="mt-4">
            <app-reviews-carousel [items]="doctorDetails?.reviews_doctor"></app-reviews-carousel>
          </div>
        </ng-template>
      </div>
    </section>
    <!--========== End Reviews ================= -->

    <ng-container *ngIf="this.doctorDetails?.reviews_doctor?.length>0">
      <div class="testimonials mt-4">
        <!-- <app-testimonials-slider [title]="'titles.comments'"></app-testimonials-slider> -->
      </div>
    </ng-container>
  </section>
</ng-template>